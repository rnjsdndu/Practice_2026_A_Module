<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Stopwatch</title>
  <style>
    body{font-family:system-ui,Segoe UI,Apple SD Gothic Neo,Malgun Gothic,sans-serif;padding:24px}
    .wrap{max-width:420px;margin:auto}
    .time{font-size:48px;font-weight:700;letter-spacing:1px;margin:16px 0}
    .btns{display:flex;gap:10px;margin:12px 0}
    button{flex:1;padding:12px 14px;font-size:16px;cursor:pointer}
    ul{margin:14px 0 0;padding:0;list-style:none;background:#111;border-radius:10px;min-height:120px}
    li{padding:10px 12px;border-bottom:1px solid rgba(255,255,255,.08)}
    li:last-child{border-bottom:0}
    .label{opacity:.7;font-size:12px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="label">STOPWATCH</div>

    <div class="time">
      <span id="postTestMin">00</span> :
      <span id="postTestSec">00</span> :
      <span id="postTestMilisec">00</span>
    </div>

    <div class="btns">
      <button id="testStartBtn">START</button>
      <button id="testStopBtn">STOP</button>
    </div>

    <div class="label">RECORDS (latest first)</div>
    <ul id="testRecordList"></ul>
  </div>

  <!-- 여기 아래에 네 JS 그대로 붙여넣으면 동작함 -->
  <script>
    var stTime = 0
var endTime = 0
var timerStart

var min
var sec
var milisec

var startBtn = document.getElementById('testStartBtn')
var stopBtn = document.getElementById('testStopBtn')
var recordList = document.getElementById('testRecordList')

startBtn.addEventListener('click', function () {
  if (!stTime) {
    stTime = Date.now() // 최초 START
  } else {
    stopBtn.innerText = 'STOP'
    stTime += Date.now() - endTime // RESTART
  }

  timerStart = setInterval(function () {
    var nowTime = new Date(Date.now() - stTime)

    min = addZero(nowTime.getMinutes())
    sec = addZero(nowTime.getSeconds())
    milisec = addZero(Math.floor(nowTime.getMilliseconds() / 10))

    document.getElementById('postTestMin').innerText = min
    document.getElementById('postTestSec').innerText = sec
    document.getElementById('postTestMilisec').innerText = milisec
  }, 1)
})

stopBtn.addEventListener('click', function () {
  if (timerStart) {
    clearInterval(timerStart) // STOP

    if (this.innerText == 'STOP') {
      endTime = Date.now()
      this.innerText = 'RESET'
      startBtn.innerText = 'RESTART'
    } else {
      // RESET
      stTime = 0
      min = 0
      sec = 0
      milisec = 0

      document.getElementById('postTestMin').innerText = '00'
      document.getElementById('postTestSec').innerText = '00'
      document.getElementById('postTestMilisec').innerText = '00'

      startBtn.innerText = 'START'
      this.innerText = 'STOP'
      timerStart = null
      recordList.innerHTML = ''
    }
  }
})

function addZero(num) {
  return num < 10 ? '0' + num : '' + num
}

  </script>
</body>
</html>
